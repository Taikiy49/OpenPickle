{"ast":null,"code":"import{useMemo,useState}from\"react\";import{loadGames,joinGame,leaveGame,deleteGame}from\"../store/gamesStore\";import{loadCourts}from\"../store/courtsStore\";import{pushToast}from\"../components/ToastHost\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Games(){const[name,setName]=useState(\"You\");const[refresh,setRefresh]=useState(0);const games=useMemo(()=>loadGames(),[refresh]);const courts=useMemo(()=>loadCourts(),[]);const courtName=id=>{var _courts$find;return((_courts$find=courts.find(c=>c.id===id))===null||_courts$find===void 0?void 0:_courts$find.name)||\"Unknown court\";};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"h1\",children:\"Games\"}),/*#__PURE__*/_jsx(\"div\",{className:\"p\",children:\"Create & join sessions. (Saved locally for now.)\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"spacer\"}),/*#__PURE__*/_jsxs(\"div\",{style:{width:220},children:[/*#__PURE__*/_jsx(\"div\",{className:\"p\",children:\"Your name\"}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",value:name,onChange:e=>setName(e.target.value)})]})]})}),/*#__PURE__*/_jsx(\"div\",{style:{height:14}}),!games.length?/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h1\",children:\"No games yet\"}),/*#__PURE__*/_jsx(\"div\",{className:\"p\",children:\"Open any court and tap \\u201CCreate game\\u201D.\"})]}):games.map(g=>/*#__PURE__*/_jsx(\"div\",{className:\"card\",style:{marginBottom:12},children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",style:{alignItems:\"flex-start\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:\"1 1 auto\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:1000},children:g.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"p\",style:{marginTop:6},children:[/*#__PURE__*/_jsx(\"b\",{children:courtName(g.courtId)}),\" \\u2022 \",g.whenLabel,\" \\u2022 Skill: \",g.skill]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p\",style:{marginTop:6},children:[\"Players (\",g.players.length,\"/\",g.maxPlayers,\"): \",g.players.join(\", \")||\"None yet\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>{joinGame(g.id,name);pushToast({title:\"Joined game ✅\",msg:g.title});setRefresh(x=>x+1);},children:\"Join\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:()=>{leaveGame(g.id,name);pushToast({title:\"Left game\",msg:g.title});setRefresh(x=>x+1);},children:\"Leave\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:()=>{deleteGame(g.id);pushToast({title:\"Deleted game\",msg:g.title});setRefresh(x=>x+1);},children:\"Delete\"})]})]})},g.id))]});}","map":{"version":3,"names":["useMemo","useState","loadGames","joinGame","leaveGame","deleteGame","loadCourts","pushToast","jsx","_jsx","jsxs","_jsxs","Games","name","setName","refresh","setRefresh","games","courts","courtName","id","_courts$find","find","c","className","children","style","width","value","onChange","e","target","height","length","map","g","marginBottom","alignItems","flex","fontWeight","title","marginTop","courtId","whenLabel","skill","players","maxPlayers","join","onClick","msg","x"],"sources":["/Users/taikiyamashita/Desktop/hawaii-pickle-play/src/pages/Games.jsx"],"sourcesContent":["import { useMemo, useState } from \"react\";\nimport { loadGames, joinGame, leaveGame, deleteGame } from \"../store/gamesStore\";\nimport { loadCourts } from \"../store/courtsStore\";\nimport { pushToast } from \"../components/ToastHost\";\n\nexport default function Games() {\n  const [name, setName] = useState(\"You\");\n  const [refresh, setRefresh] = useState(0);\n\n  const games = useMemo(() => loadGames(), [refresh]);\n  const courts = useMemo(() => loadCourts(), []);\n\n  const courtName = (id) => courts.find(c => c.id === id)?.name || \"Unknown court\";\n\n  return (\n    <div className=\"container\">\n      <div className=\"card\">\n        <div className=\"row\">\n          <div>\n            <div className=\"h1\">Games</div>\n            <div className=\"p\">Create & join sessions. (Saved locally for now.)</div>\n          </div>\n          <div className=\"spacer\" />\n          <div style={{ width: 220 }}>\n            <div className=\"p\">Your name</div>\n            <input className=\"input\" value={name} onChange={(e)=>setName(e.target.value)} />\n          </div>\n        </div>\n      </div>\n\n      <div style={{ height: 14 }} />\n\n      {!games.length ? (\n        <div className=\"card\">\n          <div className=\"h1\">No games yet</div>\n          <div className=\"p\">Open any court and tap “Create game”.</div>\n        </div>\n      ) : (\n        games.map(g => (\n          <div key={g.id} className=\"card\" style={{ marginBottom: 12 }}>\n            <div className=\"row\" style={{ alignItems: \"flex-start\" }}>\n              <div style={{ flex: \"1 1 auto\" }}>\n                <div style={{ fontWeight: 1000 }}>{g.title}</div>\n                <div className=\"p\" style={{ marginTop: 6 }}>\n                  <b>{courtName(g.courtId)}</b> • {g.whenLabel} • Skill: {g.skill}\n                </div>\n                <div className=\"p\" style={{ marginTop: 6 }}>\n                  Players ({g.players.length}/{g.maxPlayers}): {g.players.join(\", \") || \"None yet\"}\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <button\n                  className=\"btn btn-primary\"\n                  onClick={() => {\n                    joinGame(g.id, name);\n                    pushToast({ title: \"Joined game ✅\", msg: g.title });\n                    setRefresh(x => x + 1);\n                  }}\n                >\n                  Join\n                </button>\n                <button\n                  className=\"btn\"\n                  onClick={() => {\n                    leaveGame(g.id, name);\n                    pushToast({ title: \"Left game\", msg: g.title });\n                    setRefresh(x => x + 1);\n                  }}\n                >\n                  Leave\n                </button>\n                <button\n                  className=\"btn btn-danger\"\n                  onClick={() => {\n                    deleteGame(g.id);\n                    pushToast({ title: \"Deleted game\", msg: g.title });\n                    setRefresh(x => x + 1);\n                  }}\n                >\n                  Delete\n                </button>\n              </div>\n            </div>\n          </div>\n        ))\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}