{"ast":null,"code":"// src/store/gamesStore.js\nimport{uid}from\"../utils/id\";const KEY=\"pph:games\";/**\n * game:\n * { id, courtId, title, skill, whenLabel, maxPlayers, players: [name], createdAt }\n */export function loadGames(){try{return JSON.parse(localStorage.getItem(KEY)||\"[]\");}catch(_unused){return[];}}export function saveGames(list){localStorage.setItem(KEY,JSON.stringify(list));}export function createGame(_ref){let{courtId,title,skill,whenLabel,maxPlayers,host}=_ref;const list=loadGames();list.unshift({id:uid(\"game\"),courtId,title:title||\"Open Play Meetup\",skill:skill||\"All\",whenLabel:whenLabel||\"Today\",maxPlayers:Number(maxPlayers||8),players:host?[host]:[],createdAt:Date.now()});saveGames(list);return list;}export function joinGame(gameId,name){const list=loadGames();const g=list.find(x=>x.id===gameId);if(!g||!name)return list;if(!g.players.includes(name)&&g.players.length<g.maxPlayers)g.players.push(name);saveGames(list);return list;}export function leaveGame(gameId,name){const list=loadGames();const g=list.find(x=>x.id===gameId);if(!g)return list;g.players=g.players.filter(p=>p!==name);saveGames(list);return list;}export function deleteGame(gameId){const list=loadGames().filter(g=>g.id!==gameId);saveGames(list);return list;}","map":{"version":3,"names":["uid","KEY","loadGames","JSON","parse","localStorage","getItem","_unused","saveGames","list","setItem","stringify","createGame","_ref","courtId","title","skill","whenLabel","maxPlayers","host","unshift","id","Number","players","createdAt","Date","now","joinGame","gameId","name","g","find","x","includes","length","push","leaveGame","filter","p","deleteGame"],"sources":["/Users/taikiyamashita/Desktop/hawaii-pickle-play/src/store/gamesStore.js"],"sourcesContent":["// src/store/gamesStore.js\nimport { uid } from \"../utils/id\";\n\nconst KEY = \"pph:games\";\n\n/**\n * game:\n * { id, courtId, title, skill, whenLabel, maxPlayers, players: [name], createdAt }\n */\nexport function loadGames() {\n  try {\n    return JSON.parse(localStorage.getItem(KEY) || \"[]\");\n  } catch {\n    return [];\n  }\n}\nexport function saveGames(list) {\n  localStorage.setItem(KEY, JSON.stringify(list));\n}\nexport function createGame({ courtId, title, skill, whenLabel, maxPlayers, host }) {\n  const list = loadGames();\n  list.unshift({\n    id: uid(\"game\"),\n    courtId,\n    title: title || \"Open Play Meetup\",\n    skill: skill || \"All\",\n    whenLabel: whenLabel || \"Today\",\n    maxPlayers: Number(maxPlayers || 8),\n    players: host ? [host] : [],\n    createdAt: Date.now(),\n  });\n  saveGames(list);\n  return list;\n}\nexport function joinGame(gameId, name) {\n  const list = loadGames();\n  const g = list.find((x) => x.id === gameId);\n  if (!g || !name) return list;\n  if (!g.players.includes(name) && g.players.length < g.maxPlayers) g.players.push(name);\n  saveGames(list);\n  return list;\n}\nexport function leaveGame(gameId, name) {\n  const list = loadGames();\n  const g = list.find((x) => x.id === gameId);\n  if (!g) return list;\n  g.players = g.players.filter((p) => p !== name);\n  saveGames(list);\n  return list;\n}\nexport function deleteGame(gameId) {\n  const list = loadGames().filter((g) => g.id !== gameId);\n  saveGames(list);\n  return list;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}