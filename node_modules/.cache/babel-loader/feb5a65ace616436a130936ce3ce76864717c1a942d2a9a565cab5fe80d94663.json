{"ast":null,"code":"import{DateTime}from\"luxon\";const ZONE=\"Pacific/Honolulu\";const DAY_TO_LUXON={Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6,Sun:7};function parseToMinutes(label){const dt=DateTime.fromFormat(label.trim(),\"h:mm a\",{zone:ZONE});if(!dt.isValid)return null;return dt.hour*60+dt.minute;}export function nowHST(){return DateTime.now().setZone(ZONE);}export function computeCourtStatus(court){const now=nowHST();const weekday=now.weekday;const nowMin=now.hour*60+now.minute;let isOpenNow=false;let nextStart=null;for(const slot of court.openPlay||[]){const w=DAY_TO_LUXON[slot.day];if(!w)continue;const startMin=parseToMinutes(slot.start);const endMin=parseToMinutes(slot.end);if(startMin==null||endMin==null)continue;if(w===weekday&&nowMin>=startMin&&nowMin<=endMin)isOpenNow=true;const daysAhead=(w-weekday+7)%7;const startCandidate=now.startOf(\"day\").plus({days:daysAhead,minutes:startMin});if(startCandidate<now)continue;if(!nextStart||startCandidate<nextStart)nextStart=startCandidate;}return{isOpenNow,nextStart,nextStartLabel:nextStart?nextStart.toFormat(\"ccc h:mm a\"):null};}","map":{"version":3,"names":["DateTime","ZONE","DAY_TO_LUXON","Mon","Tue","Wed","Thu","Fri","Sat","Sun","parseToMinutes","label","dt","fromFormat","trim","zone","isValid","hour","minute","nowHST","now","setZone","computeCourtStatus","court","weekday","nowMin","isOpenNow","nextStart","slot","openPlay","w","day","startMin","start","endMin","end","daysAhead","startCandidate","startOf","plus","days","minutes","nextStartLabel","toFormat"],"sources":["/Users/taikiyamashita/Desktop/hawaii-pickle-play/src/utils/time.js"],"sourcesContent":["import { DateTime } from \"luxon\";\nconst ZONE = \"Pacific/Honolulu\";\nconst DAY_TO_LUXON = { Mon:1, Tue:2, Wed:3, Thu:4, Fri:5, Sat:6, Sun:7 };\n\nfunction parseToMinutes(label) {\n  const dt = DateTime.fromFormat(label.trim(), \"h:mm a\", { zone: ZONE });\n  if (!dt.isValid) return null;\n  return dt.hour * 60 + dt.minute;\n}\n\nexport function nowHST() {\n  return DateTime.now().setZone(ZONE);\n}\n\nexport function computeCourtStatus(court) {\n  const now = nowHST();\n  const weekday = now.weekday;\n  const nowMin = now.hour * 60 + now.minute;\n\n  let isOpenNow = false;\n  let nextStart = null;\n\n  for (const slot of court.openPlay || []) {\n    const w = DAY_TO_LUXON[slot.day];\n    if (!w) continue;\n\n    const startMin = parseToMinutes(slot.start);\n    const endMin = parseToMinutes(slot.end);\n    if (startMin == null || endMin == null) continue;\n\n    if (w === weekday && nowMin >= startMin && nowMin <= endMin) isOpenNow = true;\n\n    const daysAhead = (w - weekday + 7) % 7;\n    const startCandidate = now.startOf(\"day\").plus({ days: daysAhead, minutes: startMin });\n    if (startCandidate < now) continue;\n    if (!nextStart || startCandidate < nextStart) nextStart = startCandidate;\n  }\n\n  return {\n    isOpenNow,\n    nextStart,\n    nextStartLabel: nextStart ? nextStart.toFormat(\"ccc h:mm a\") : null,\n  };\n}\n"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,KAAM,CAAAC,IAAI,CAAG,kBAAkB,CAC/B,KAAM,CAAAC,YAAY,CAAG,CAAEC,GAAG,CAAC,CAAC,CAAEC,GAAG,CAAC,CAAC,CAAEC,GAAG,CAAC,CAAC,CAAEC,GAAG,CAAC,CAAC,CAAEC,GAAG,CAAC,CAAC,CAAEC,GAAG,CAAC,CAAC,CAAEC,GAAG,CAAC,CAAE,CAAC,CAExE,QAAS,CAAAC,cAAcA,CAACC,KAAK,CAAE,CAC7B,KAAM,CAAAC,EAAE,CAAGZ,QAAQ,CAACa,UAAU,CAACF,KAAK,CAACG,IAAI,CAAC,CAAC,CAAE,QAAQ,CAAE,CAAEC,IAAI,CAAEd,IAAK,CAAC,CAAC,CACtE,GAAI,CAACW,EAAE,CAACI,OAAO,CAAE,MAAO,KAAI,CAC5B,MAAO,CAAAJ,EAAE,CAACK,IAAI,CAAG,EAAE,CAAGL,EAAE,CAACM,MAAM,CACjC,CAEA,MAAO,SAAS,CAAAC,MAAMA,CAAA,CAAG,CACvB,MAAO,CAAAnB,QAAQ,CAACoB,GAAG,CAAC,CAAC,CAACC,OAAO,CAACpB,IAAI,CAAC,CACrC,CAEA,MAAO,SAAS,CAAAqB,kBAAkBA,CAACC,KAAK,CAAE,CACxC,KAAM,CAAAH,GAAG,CAAGD,MAAM,CAAC,CAAC,CACpB,KAAM,CAAAK,OAAO,CAAGJ,GAAG,CAACI,OAAO,CAC3B,KAAM,CAAAC,MAAM,CAAGL,GAAG,CAACH,IAAI,CAAG,EAAE,CAAGG,GAAG,CAACF,MAAM,CAEzC,GAAI,CAAAQ,SAAS,CAAG,KAAK,CACrB,GAAI,CAAAC,SAAS,CAAG,IAAI,CAEpB,IAAK,KAAM,CAAAC,IAAI,GAAI,CAAAL,KAAK,CAACM,QAAQ,EAAI,EAAE,CAAE,CACvC,KAAM,CAAAC,CAAC,CAAG5B,YAAY,CAAC0B,IAAI,CAACG,GAAG,CAAC,CAChC,GAAI,CAACD,CAAC,CAAE,SAER,KAAM,CAAAE,QAAQ,CAAGtB,cAAc,CAACkB,IAAI,CAACK,KAAK,CAAC,CAC3C,KAAM,CAAAC,MAAM,CAAGxB,cAAc,CAACkB,IAAI,CAACO,GAAG,CAAC,CACvC,GAAIH,QAAQ,EAAI,IAAI,EAAIE,MAAM,EAAI,IAAI,CAAE,SAExC,GAAIJ,CAAC,GAAKN,OAAO,EAAIC,MAAM,EAAIO,QAAQ,EAAIP,MAAM,EAAIS,MAAM,CAAER,SAAS,CAAG,IAAI,CAE7E,KAAM,CAAAU,SAAS,CAAG,CAACN,CAAC,CAAGN,OAAO,CAAG,CAAC,EAAI,CAAC,CACvC,KAAM,CAAAa,cAAc,CAAGjB,GAAG,CAACkB,OAAO,CAAC,KAAK,CAAC,CAACC,IAAI,CAAC,CAAEC,IAAI,CAAEJ,SAAS,CAAEK,OAAO,CAAET,QAAS,CAAC,CAAC,CACtF,GAAIK,cAAc,CAAGjB,GAAG,CAAE,SAC1B,GAAI,CAACO,SAAS,EAAIU,cAAc,CAAGV,SAAS,CAAEA,SAAS,CAAGU,cAAc,CAC1E,CAEA,MAAO,CACLX,SAAS,CACTC,SAAS,CACTe,cAAc,CAAEf,SAAS,CAAGA,SAAS,CAACgB,QAAQ,CAAC,YAAY,CAAC,CAAG,IACjE,CAAC,CACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}